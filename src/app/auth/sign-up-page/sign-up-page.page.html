<!-- <ion-header>
  <ion-toolbar>
    <ion-title>sign-up-page</ion-title>
  </ion-toolbar>
</ion-header> -->

<ion-content class="i-content ion-padding">
  <ion-grid fixed class="i-grid">
    <ion-row>
      <ion-col size="12">
        <ion-img class="i-img" src="assets\icon\favicon.png"></ion-img>
        <form
          [formGroup]="signUpForm"
          (ngSubmit)="attemptSignUp(signUpForm.value)"
        >
          <div class="div-fields">
            <ion-item class="i-input" lines="none">
              <ion-icon color="dark" name="person-outline"></ion-icon>
              <ion-input
                formControlName="name"
                class="i-field"
                type="text"
                placeholder="{{'name' | translate}}"
                required
              ></ion-input>
            </ion-item>
            <div class="validation-errors">
              <ng-container *ngFor="let validation of validation_messages.name">
                <div
                  class="error-message"
                  *ngIf="signUpForm.get('name').hasError(validation.type) && (signUpForm.get('name').dirty || signUpForm.get('name').touched)"
                >
                  <ion-icon name="information-circle-outline"></ion-icon> {{
                  validation.message | translate }}
                </div>
              </ng-container>
            </div>

            <ion-item class="i-input" lines="none">
              <ion-icon color="dark" name="mail-outline"></ion-icon>
              <ion-input
                formControlName="email"
                class="i-field"
                type="email"
                placeholder="{{'email' | translate}}"
                required
              ></ion-input>
            </ion-item>
            <div class="validation-errors">
              <ng-container *ngFor="let validation of validation_messages.email">
                <div
                  class="error-message"
                  *ngIf="signUpForm.get('email').hasError(validation.type) && (signUpForm.get('email').dirty || signUpForm.get('email').touched)"
                >
                  <ion-icon name="information-circle-outline"></ion-icon> {{
                  validation.message | translate }}
                </div>
              </ng-container>
            </div>
            <div formGroupName="matching_passwords">
            <ion-item class="i-input" lines="none">
              <ion-icon color="dark" name="lock-closed-outline"></ion-icon>
              <ion-input
                formControlName="password"
                class="i-field"
                type="password"
                placeholder="{{'password'| translate}}"
                required
              ></ion-input>
            </ion-item>
            <div class="validation-errors">
              <ng-container
                *ngFor="let validation of validation_messages.password"
              >
                <div
                  class="error-message"
                  *ngIf="signUpForm.get('matching_passwords').get('password').hasError(validation.type) && (signUpForm.get('matching_passwords').get('password').dirty || signUpForm.get('matching_passwords').get('password').touched)"
                >
                  <ion-icon name="information-circle-outline"></ion-icon>{{
                  validation.message |translate}}
                </div>
              </ng-container>
            </div>
            <ion-item class="i-input" lines="none">
              <ion-icon color="dark" name="lock-closed-outline"></ion-icon>
              <ion-input
              formControlName="cPassword"
                class="i-field"
                type="password"
                placeholder="{{'confirm password' | translate}}"
                required
              ></ion-input>
            </ion-item>
            <div class="validation-errors">
              <ng-container *ngFor="let validation of validation_messages.cPassword">
                <div class="error-message"
                  *ngIf="signUpForm.get('matching_passwords').get('cPassword').hasError(validation.type) && (signUpForm.get('matching_passwords').get('cPassword').dirty || signUpForm.get('matching_passwords').get('cPassword').touched)">
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message| translate }}
                </div>
              </ng-container>
            </div>
            <div class="validation-errors">
              <ng-container *ngFor="let validation of validation_messages.matching_passwords">
                <div class="error-message"
                  *ngIf="signUpForm.get('matching_passwords').hasError(validation.type) && (signUpForm.get('matching_passwords').get('cPassword').dirty || signUpForm.get('matching_passwords').get('cPassword').touched)">
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message | translate }}
                </div>
              </ng-container>
            </div>
          </div>

            <ion-item class="i-input" lines="none">
              <ion-icon color="dark" name="call-outline"></ion-icon>
              <ion-input
              formControlName="phoneNumber"
                class="i-field"
                type="number"
                placeholder="{{'phone number' | translate}}"
                required
              ></ion-input>
            </ion-item>
            
            <div class="validation-errors">
              <ng-container *ngFor="let validation of validation_messages.phoneNumber">
                <div class="error-message"
                  *ngIf="signUpForm.get('phoneNumber').hasError(validation.type) && (signUpForm.get('phoneNumber').dirty || signUpForm.get('phoneNumber').touched)">
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message| translate }}
                </div>
              </ng-container>
            </div>
            <ion-item class="i-input" lines="none">
              <ion-icon color="dark" name="location-outline"></ion-icon>
              <ion-input
              formControlName="address"
                class="i-field"
                type="text"
                placeholder="{{'address' | translate}}"
                required
              ></ion-input>
            </ion-item>
            <div class="validation-errors">
              <ng-container *ngFor="let validation of validation_messages.address">
                <div class="error-message"
                  *ngIf="signUpForm.get('address').hasError(validation.type) && (signUpForm.get('address').dirty || signUpForm.get('address').touched)">
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message  | translate}}
                </div>
              </ng-container>
            </div>
            <ion-item color="transparent" class="i-remember-checkbox" lines="none">
              <ion-label>{{'I accept terms and conditions' | translate}}</ion-label>
              <ion-checkbox class="i-checkbox" slot="start" formControlName="terms"></ion-checkbox>
            </ion-item>
            <div class="validation-errors">
              <ng-container *ngFor="let validation of validation_messages.terms">
                <div class="error-message"
                  *ngIf="signUpForm.get('terms').hasError(validation.type) && (signUpForm.get('terms').dirty || signUpForm.get('terms').touched)">
                  <ion-icon name="information-circle-outline"></ion-icon> {{ validation.message | translate }}
                </div>
              </ng-container>
            </div>
            <ion-button
              class="i-button"
              expand="block"
              color="primary"
              shape="round"
              type="submit"
              [disabled]="!signUpForm.valid"
              >
              <ion-label>{{'Sign Up' | translate}}</ion-label>
            </ion-button>
          </div>
        </form>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
